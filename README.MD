# workOut Management API Documentation

## Informaci贸n General

- **Versi贸n**: 1.0.0
- **Base URL**: `http://localhost:3000/api/v1`
- **Documentaci贸n Swagger**: `http://localhost:3000/api-docs`

## Autenticaci贸n

La API utiliza autenticaci贸n JWT (JSON Web Tokens). Para acceder a endpoints protegidos, incluye el token en el header:

```
Authorization: Bearer <tu_jwt_token>
```

## Endpoints

###  Autenticaci贸n

#### Registrar Usuario

```http
POST /users/register
```

**Cuerpo de la petici贸n:**

```json
{
  "username": "johndoe",
  "email": "john@example.com",
  "password": "Password123!",
  "confirmPassword": "Password123!"
}
```

**Respuesta (201):**

```json
{
  "message": "User created successfully",
  "user": {
    "id": "60d5ec49f1b2c8b1f8c4e5a1",
    "username": "johndoe",
    "email": "john@example.com",
    "role": "user",
    "active": true,
    "registerDate": "2023-06-25T10:30:00.000Z"
  }
}
```

#### Iniciar Sesi贸n

```http
POST /users/login
```

**Cuerpo de la petici贸n:**

```json
{
  "emailOrUsername": "john@example.com",
  "password": "Password123!"
}
```

**Respuesta (200):**

```json
{
  "message": "Login successful",
  "user": {
    "id": "60d5ec49f1b2c8b1f8c4e5a1",
    "username": "johndoe",
    "email": "john@example.com",
    "role": "user",
    "active": true,
    "registerDate": "2023-06-25T10:30:00.000Z"
  },
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
}
```

###  Gesti贸n de Usuarios

#### Obtener Perfil Propio

```http
GET /users/profile
```

**Autenticaci贸n:** Requerida

**Respuesta (200):**

```json
{
  "user": {
    "id": "60d5ec49f1b2c8b1f8c4e5a1",
    "username": "johndoe",
    "email": "john@example.com",
    "role": "user",
    "active": true,
    "registerDate": "2023-06-25T10:30:00.000Z"
  }
}
```

#### Actualizar Usuario

```http
PUT /users/:id
```

**Autenticaci贸n:** Requerida (propio usuario o admin)

**Cuerpo de la petici贸n:**

```json
{
  "newUsername": "newusername",
  "newEmail": "newemail@example.com",
  "newPassword": "NewPassword123!",
  "confirmPassword": "NewPassword123!",
  "currentPassword": "Password123!"
}
```

###  Administraci贸n (Solo Admin)

#### Listar Usuarios

```http
GET /users/
```

**Autenticaci贸n:** Requerida (Admin)

#### Obtener Usuario por ID

```http
GET /users/:id
```

**Autenticaci贸n:** Requerida (Admin)

#### Activar Usuario

```http
PATCH /users/:id/activate
```

**Autenticaci贸n:** Requerida (Admin)

#### Desactivar Usuario

```http
DELETE /users/:id/deactivate
```

**Autenticaci贸n:** Requerida (Admin)

#### Crear Administrador

```http
POST /users/admin/create
```

**Autenticaci贸n:** Requerida (Admin)

**Cuerpo de la petici贸n:**

```json
{
  "username": "adminuser",
  "email": "admin@example.com",
  "password": "AdminPass123!"
}
```

## C贸digos de Estado HTTP

| C贸digo | Significado                                     |
| ------ | ----------------------------------------------- |
| 200    | OK - Operaci贸n exitosa                          |
| 201    | Created - Recurso creado exitosamente           |
| 400    | Bad Request - Error de validaci贸n               |
| 401    | Unauthorized - Token ausente o inv谩lido         |
| 403    | Forbidden - Acceso denegado                     |
| 404    | Not Found - Recurso no encontrado               |
| 409    | Conflict - Conflicto (email/username ya existe) |
| 500    | Internal Server Error - Error del servidor      |

## Ejemplos de Errores

### Error de Validaci贸n (400)

```json
{
  "error": "Validation failed",
  "details": [
    {
      "field": "email",
      "message": "Please provide a valid email address"
    }
  ]
}
```

### Error de Autenticaci贸n (401)

```json
{
  "error": "Access denied. No token provided"
}
```

### Error de Autorizaci贸n (403)

```json
{
  "error": "Admin privileges required"
}
```
